{% extends "layout/base.html" %}

{% block page_content %}
   <a href="./create">Add new student</a>

   <form action="" method="get">
      <input type="text" name="q" placeholder="Filter" value="{{ search or '' }}">
      <input type="Submit" value="Search">
   </form>

   <table>
      <tr>
         <th>First Name</th>
         <th>Last Name</th>
         <th>Email</th>
         <th>Student ID</th>
         <th></th>
      </tr>
      {% for s in students %}
         <tr>
            <td>{{ s.first_name }}</td>
            <td>{{ s.last_name }}</td>
            <td>{{ s.email }}</td>
            <td>{{ s.student_id }}</td>
            <td>
               <a href="{{ s.absolute_url() }}">View</a>
               <a href="{{ s.absolute_url() }}/edit">Edit</button>
               <a href="{{ s.absolute_url() }}/delete" onclick="return confirm('Are you sure you want to delete {{ s.full_name() }}? This is irreversible.')">Delete</button>
            </td>
         </tr>
      {% endfor %}
   </table>
{% endblock %}
